services:  
  nginx:  
    image: nginx:alpine  
    volumes:  
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf  
      - v:/usr/share/nginx/html  
    ports:  
      - '80:80'  
    restart: always  
    depends_on:  
      - front  

  front:  
    build:  
      dockerfile: Dockerfile  
    volumes:  
      - v:/app/build
    depends_on:  
      - back  

  back:  
    build:  
      dockerfile: Dockerfile  
    ports:  
      - "5000:5000"  

volumes:  
  v:  